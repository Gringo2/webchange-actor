<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="500" fill="#f8f9fa" />
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="#333">Operational &amp; Scheduling Topology</text>

  <!-- Apify Schedule -->
  <rect x="50" y="80" width="120" height="60" rx="10" fill="#007bff" />
  <text x="110" y="115" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Apify Cron</text>
  <text x="110" y="130" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">(Scheduled)</text>

  <!-- Multiple Tasks -->
  <rect x="250" y="80" width="120" height="40" rx="5" fill="white" stroke="#007bff" stroke-width="2" />
  <text x="310" y="105" font-family="Arial, sans-serif" font-size="12" fill="#333" text-anchor="middle">Task 1: Amazon</text>

  <rect x="250" y="130" width="120" height="40" rx="5" fill="white" stroke="#007bff" stroke-width="2" />
  <text x="310" y="155" font-family="Arial, sans-serif" font-size="12" fill="#333" text-anchor="middle">Task 2: Walmart</text>

  <rect x="250" y="180" width="120" height="40" rx="5" fill="white" stroke="#007bff" stroke-width="2" />
  <text x="310" y="205" font-family="Arial, sans-serif" font-size="12" fill="#333" text-anchor="middle">Task 3: eBay</text>

  <!-- Shared Actor Base -->
  <rect x="50" y="300" width="320" height="150" rx="15" fill="#f0f0f0" stroke="#666" stroke-dasharray="5,5" />
  <text x="210" y="325" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#666" text-anchor="middle">SWIM Actor Codebase</text>

  <!-- Named Storage (Persistent) -->
  <rect x="500" y="100" width="220" height="250" rx="10" fill="white" stroke="#28a745" stroke-width="2" />
  <text x="610" y="130" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#28a745" text-anchor="middle">Named KVS (Persistent)</text>
  
  <rect x="520" y="150" width="180" height="40" rx="5" fill="#ecf9ef" />
  <text x="610" y="175" font-family="Arial, sans-serif" font-size="12" fill="#155724" text-anchor="middle">SNAPSHOTS</text>

  <rect x="520" y="200" width="180" height="40" rx="5" fill="#ecf9ef" />
  <text x="610" y="225" font-family="Arial, sans-serif" font-size="12" fill="#155724" text-anchor="middle">DEDUPE</text>

  <rect x="520" y="250" width="180" height="40" rx="5" fill="#ecf9ef" />
  <text x="610" y="275" font-family="Arial, sans-serif" font-size="12" fill="#155724" text-anchor="middle">HISTORY</text>

  <!-- Connectors -->
  <line x1="170" y1="110" x2="240" y2="110" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
  <path d="M 370,105 L 430,105 L 430,300" stroke="#666" stroke-width="2" fill="none" />
  <path d="M 370,155 L 430,155 L 430,300" stroke="#666" stroke-width="2" fill="none" />
  <path d="M 370,205 L 430,205 L 430,300" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrow)" />
  
  <path d="M 370,375 L 490,375 L 500,225" stroke="#28a745" stroke-width="2" fill="none" marker-end="url(#arrow)" />
  <text x="440" y="365" font-family="Arial, sans-serif" font-size="11" fill="#28a745" text-anchor="middle">Persists state</text>
  <text x="440" y="380" font-family="Arial, sans-serif" font-size="11" fill="#28a745" text-anchor="middle">across runs</text>

</svg>
