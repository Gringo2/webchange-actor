<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="400" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6c757d" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="400" fill="#fcfcfc" />
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="#333">Developer Extensibility Map</text>

  <!-- Core Layer (Locked) -->
  <rect x="50" y="100" width="220" height="240" rx="10" fill="#e9ecef" stroke="#adb5bd" stroke-width="2" />
  <text x="160" y="130" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#495057" text-anchor="middle">Engine Core</text>
  <text x="160" y="150" font-family="Arial, sans-serif" font-size="11" fill="#6c757d" text-anchor="middle">(Don't Modify)</text>
  
  <rect x="70" y="170" width="180" height="35" rx="5" fill="white" stroke="#dee2e6" />
  <text x="160" y="192" font-family="Arial, sans-serif" font-size="12" fill="#495057" text-anchor="middle">DiffEngine (LCS)</text>

  <rect x="70" y="220" width="180" height="35" rx="5" fill="white" stroke="#dee2e6" />
  <text x="160" y="242" font-family="Arial, sans-serif" font-size="12" fill="#495057" text-anchor="middle">Preprocessor</text>

  <rect x="70" y="270" width="180" height="35" rx="5" fill="white" stroke="#dee2e6" />
  <text x="160" y="292" font-family="Arial, sans-serif" font-size="12" fill="#495057" text-anchor="middle">HistoryStore</text>

  <!-- Extension Layer (Open) -->
  <rect x="530" y="100" width="220" height="240" rx="10" fill="#e7f3ff" stroke="#007bff" stroke-width="2" />
  <text x="640" y="130" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#007bff" text-anchor="middle">Extensibility Points</text>
  <text x="640" y="150" font-family="Arial, sans-serif" font-size="11" fill="#0056b3" text-anchor="middle">(Add Features Here)</text>

  <rect x="550" y="170" width="180" height="40" rx="5" fill="white" stroke="#007bff" stroke-width="2" />
  <text x="640" y="195" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#007bff" text-anchor="middle">New Presets (config.ts)</text>

  <rect x="550" y="230" width="180" height="40" rx="5" fill="white" stroke="#28a745" stroke-width="2" />
  <text x="640" y="255" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#28a745" text-anchor="middle">New Notifiers (src/notific...)</text>

  <rect x="550" y="290" width="180" height="40" rx="5" fill="white" stroke="#dc3545" stroke-width="2" />
  <text x="640" y="315" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#dc3545" text-anchor="middle">New Logic (Classifier.ts)</text>

  <!-- Flow -->
  <path d="M 270,220 L 520,220" stroke="#adb5bd" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow)" />
  <text x="395" y="210" font-family="Arial, sans-serif" font-size="11" fill="#6c757d" text-anchor="middle">Core feeds data to</text>
</svg>
